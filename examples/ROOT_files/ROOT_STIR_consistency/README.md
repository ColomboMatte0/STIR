# TOF consistency checks for STIR
## Authors: Elise Emond & Robert Twyman

Copyright (C) 2022, University College London
  This file is part of STIR.
SPDX-License-Identifier: Apache-2.0
See STIR/LICENSE.txt for details

These files were included to :
* Test non-TOF ROOT and STIR consistency, particularly the rotation.
* Test the TOF STIR implementation was correct (NOT YET IMPLEMENTED).

Directories
-----

- `SourceFiles/`: Contains 12 generate_image parameter files and GATE macro files for the emission source positions. One pair of files for each test.
- `Gate_macros/`: Contains the GATE macro files for generating the data


FILES
----

- `README.md`: This file.
- `root_header_test_template.hroot`: Template file for generating root header files for each of the test list mode data files that are generated by GATE.
- `run_pretest_script.sh`: The main script for generating the data (requires GATE). This script runs GATE simulations for each test emission and generates the root header files for them.


______

Methodology
 1. Generate the ROOT data. 
     1. Run `./run_pretest_script.sh` in the terminal to generate the ROOT files (requires Gate) for different point sources, or
     2. Download the ROOT data and proceed without Gate simulation.
     
 2. Run the STIR test: `src/recon_test/test_view_offset_root`.
    This test should tell you whether it failed or not by testing if the LOR passes by, 
    or close to, the original point source position.
